"use strict";(()=>{var e={};e.id=701,e.ids=[701],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},6492:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>x,patchFetch:()=>f,requestAsyncStorage:()=>c,routeModule:()=>d,serverHooks:()=>g,staticGenerationAsyncStorage:()=>m});var s={};t.r(s),t.d(s,{GET:()=>p,POST:()=>l});var o=t(9303),a=t(8716),n=t(670),i=t(7070),u=t(3493);async function p(){try{let e=await u._.user.findMany({orderBy:{id:"asc"}});return i.NextResponse.json(e)}catch(e){return console.error("GET /api/users error",e),i.NextResponse.json({error:"Failed to load users"},{status:500})}}async function l(e){try{let{email:r,name:t,locale:s}=await e.json()??{};if(!r||"string"!=typeof r)return i.NextResponse.json({error:"email is required"},{status:400});let o=await u._.user.upsert({where:{email:r},update:{name:"string"==typeof t?t:void 0,locale:"string"==typeof s?s:void 0},create:{email:r,name:"string"==typeof t?t:null,locale:"string"==typeof s?s:void 0}});return i.NextResponse.json(o,{status:201})}catch(e){return console.error("POST /api/users error",e),i.NextResponse.json({error:"Failed to create or update user"},{status:500})}}let d=new o.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/users/route",pathname:"/api/users",filename:"route",bundlePath:"app/api/users/route"},resolvedPagePath:"D:\\item\\app\\api\\users\\route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:c,staticGenerationAsyncStorage:m,serverHooks:g}=d,x="/api/users/route";function f(){return(0,n.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:m})}},3493:(e,r,t)=>{t.d(r,{_:()=>o});let s=require("@prisma/client"),o=globalThis.prisma??new s.PrismaClient({log:["error"]})}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[948,972],()=>t(6492));module.exports=s})();