"use strict";(()=>{var e={};e.id=120,e.ids=[120],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},8951:(e,s,t)=>{t.r(s),t.d(s,{originalPathname:()=>f,patchFetch:()=>x,requestAsyncStorage:()=>d,routeModule:()=>l,serverHooks:()=>c,staticGenerationAsyncStorage:()=>m});var r={};t.r(r),t.d(r,{POST:()=>p});var a=t(9303),n=t(8716),o=t(670),i=t(7070),u=t(3493);async function p(e){try{let{assessmentId:s,answers:t,userId:r}=await e.json()??{};if(!s||"number"!=typeof s)return i.NextResponse.json({error:"assessmentId is required"},{status:400});if(!t||"object"!=typeof t)return i.NextResponse.json({error:"answers is required"},{status:400});let a=Object.values(t).filter(e=>"number"==typeof e),n=a.length>0?a.reduce((e,s)=>e+s,0)/a.length:0,o=await u._.assessmentResult.create({data:{assessmentId:s,userId:"number"==typeof r?r:null,rawScore:n,answersJson:JSON.stringify(t)}});return i.NextResponse.json({id:o.id,assessmentId:o.assessmentId,averageScore:n,createdAt:o.createdAt})}catch(e){return console.error("POST /api/assessment/results error",e),i.NextResponse.json({error:"Failed to save assessment result"},{status:500})}}let l=new a.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/assessment/results/route",pathname:"/api/assessment/results",filename:"route",bundlePath:"app/api/assessment/results/route"},resolvedPagePath:"D:\\item\\app\\api\\assessment\\results\\route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:d,staticGenerationAsyncStorage:m,serverHooks:c}=l,f="/api/assessment/results/route";function x(){return(0,o.patchFetch)({serverHooks:c,staticGenerationAsyncStorage:m})}},3493:(e,s,t)=>{t.d(s,{_:()=>a});let r=require("@prisma/client"),a=globalThis.prisma??new r.PrismaClient({log:["error"]})}};var s=require("../../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[948,972],()=>t(8951));module.exports=r})();